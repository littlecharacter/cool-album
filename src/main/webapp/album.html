<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Cool Album</title>
    <!-- css -->
	<link rel="stylesheet" href="static/css/hovertree.css" />
</head>
<body style="text-align: center;">
	<div class="hovertreeinfo">
		<h2></h2>
	</div>
	<!-- 仅自动播放音乐 -->
	<audio loop id="audio" autoplay preload="auto" src="static/music/qianyuqianxun.mp3" >部分浏览器不支持audio属性</audio>
	<script type="text/javascript">
        // 创建页面监听，等待微信端页面加载完毕 触发音频播放
        document.addEventListener('DOMContentLoaded', function () {
            function audioAutoPlay() {
                var audio = document.getElementById('audio');
                    audio.play();
                document.addEventListener("WeixinJSBridgeReady", function () {
                    audio.play();
                }, false);
            }
            audioAutoPlay();
        });

        // 创建触摸监听，当浏览器打开页面时，触摸屏幕触发事件，进行音频播放
        document.addEventListener('touchstart', function () {
            function audioAutoPlay() {
                var audio = document.getElementById('audio');
                    audio.play();
            }
            audioAutoPlay();
        });

        var index = 0;
        var text = "你手中的照片<br/>我手里的诗篇<br/>我轻拨琴弦<br/>轻吟低唱<br/>你轻甩衣摆<br/>起舞弄影<br/><br/>夕阳的余晖中<br/>我们安坐摇椅<br/>有一句没一句聊着的<br/>是一路走来的点点滴滴<br/><br/>陪伴是最长情的告白<br/>相守是最浪漫的承诺<br/>此生一梦<br/>此梦一生<br/><br/>你今生的一次回眸<br/>是我前世千百次的期盼<br/>请顿足我的人生<br/>与我共老<br/><br/>最浪漫的事<br/>有你一起";
        function write(){
            if (index >text.length){
                return;
                //return 加入则text显示完后，停止。
            }
            var str = text.substr(0,index);
            document.getElementById("txt").innerHTML = "<span style='font-size: 30px;'>" + str + "</span>";
            index++;
        }
        setInterval(write, 150);

        //var audio = document.createElement('audio');
        //audio.src = 'static/music/qianyuqianxun.mp3';//这里放音乐的地址
        //audio.autoplay = 'autoplay';
        //audio.loop = true;
        //document.body.appendChild(audio);

        var imgIndex = 0;
        var imgNum;
        var imgInnerHTML;
        var album;
        function change() {
            if (imgIndex >= 12) {
                imgIndex = imgIndex % 12;
            }
            for (var i = 0; i < 12; i++) {
                imgNum = (i + imgIndex) % 12;
                if (i < 6) {
                    imgInnerHTML = "<img src=\"static/img/img" + imgNum + ".jpg\" class=\"pic\" />";
                } else {
                    imgInnerHTML = "<img src=\"static/img/img" + imgNum + ".jpg\" class=\"in_pic\" />";
                }
                album = document.getElementById(i + "");
                album.innerHTML = imgInnerHTML;
            }
            imgIndex++;
        }
        setInterval(change, 5000);
	</script>

    <br/>

	<!--/*外层最大容器*/-->
	<div class="wrap">
		<!--	/*包裹所有元素的容器*/-->
		<div class="cube">
			<!--前面图片 -->
			<div id="0" class="out_front">
				<img src="static/img/img0.jpg " class="pic" />
			</div>
			<!--后面图片 -->
			<div id="1" class="out_back">
				<img src="static/img/img1.jpg" class="pic"/>
			</div>
			<!--左图片 -->
			<div id="2" class="out_left">
				<img src="static/img/img2.jpg" class="pic" />
			</div>
			<div id="3" class="out_right">
				<img src="static/img/img3.jpg" class="pic" />
			</div>
			<div id="4" class="out_top">
				<img src="static/img/img4.jpg" class="pic" />
			</div>
			<div id="5" class="out_bottom">
				<img src="static/img/img5.jpg" class="pic" />
			</div>
			<!--小正方体 -->
			<span id="6" class="in_front">
				<img src="static/img/img6.jpg" class="in_pic" />
			</span>
			<span id="7" class="in_back">
				<img src="static/img/img7.jpg" class="in_pic" />
			</span>
			<span id="8" class="in_left">
				<img src="static/img/img8.jpg" class="in_pic" />
			</span>
			<span id="9" class="in_right">
				<img src="static/img/img9.jpg" class="in_pic" />
			</span>
			<span id="10" class="in_top">
				<img src="static/img/img10.jpg" class="in_pic" />
			</span>
			<span id="11" class="in_bottom">
				<img src="static/img/img11.jpg" class="in_pic" />
			</span>
		</div>
	</div>

    <br/>

	<div id="txt"></div>
</body>
</html>
